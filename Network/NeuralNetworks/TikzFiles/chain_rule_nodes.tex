\begin{figure}[ht!]
\centering

\scalebox{0.8}{
\begin{tikzpicture}[auto]

% operations =============================
\node[op] (nt) {$n_t$};
\node[op, above left=50pt of nt] (a) {$n^{a}_{t-1}$};
\node[op, below left=40pt of nt] (b) {$n^{b}_{t-1}$};
\node[op, right=40pt of nt] (ntp) {$n_{t+1}$};
\node[textonly, right=20pt of ntp] (ntpp) {$\dots$};
\node[gradient, above=15pt of a] (da) {$\frac{\partial n_{t}}{\partial n^{a}_{t-1}}$};
\node[gradient, above=15pt of nt] (dnt) {$\frac{\partial n_{t+1}}{\partial n_{t}}$};
\node[gradient2, above=15pt of ntp] (dntp) {$\frac{\partial L}{\partial n_{t+1}}$};
\node[gradient2, above=15pt of dnt] (ddnt) {$\frac{\partial L}{\partial n_{t}}$};
\node[gradient2, above left=50pt of ddnt] (dda) {$\frac{\partial L}{\partial n^{a}_{t-1}}$};

% edges =============================
\path[tedge] (a) -- (nt);
\path[tedge] (b) -- (nt);
\path[tedge] (nt) -- (ntp);
\path[tedge] (nt) -- (dnt);
\path[tedge] (ntp) -- (ntpp);
\path[tedge] (ntp) -- (dntp);
\path[tedge] (a) -- (da);
\path[tedge] (dnt) -- (ddnt);
\path[tedge] (dntp) -- (ddnt);
\path[tedge] (da) -- (dda);
\path[tedge] (ddnt) -- (dda);


\end{tikzpicture}
} % scalebox
\end{figure}
